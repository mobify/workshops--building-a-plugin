/*! seesee 0.0.1 (https://github.com/mobify/seesee.git) */
!function(a){if("function"==typeof define&&define.amd)define(["$","plugin"],a);else{var b=window.Zepto||window.jQuery;a(b,window.Plugin)}}(function(a,b){function c(a,b){c.__super__.call(this,a,b,c.DEFAULTS)}var d={SEESEE:"seesee"},e=[{type:"visa",pattern:/^4/,format:/(\d{1,4})/g,maxLength:16},{type:"mastercard",pattern:/^5[1-5]]/,format:/(\d{1,4})/g,maxLength:16}];return c.VERSION="0.0.1",c.DEFAULTS={},c.classes={INPUT:"seesee__input"},b.create("seesee",c,{_init:function(b){if(this.$element=a(b),!this.$element.is("input"))throw new Error("Seesee must be initialized against elements of type input");this.$element.addClass(d.SEESEE).attr("type","tel"),this.currentClass="",this._bindEvents()},destroy:function(){this.$element.removeData(this.name)},_bindEvents:function(){this.$element.on("keypress",this._restrictNumeric.bind(this)).on("keyup",this._formatCard.bind(this)).on("keyup",this._identifyType.bind(this))},_restrictNumeric:function(a){return a.metaKey||a.ctrlKey||0===a.which||a.which<33?!0:32===a.which?!1:!!/[\d\s]/.test(String.fromCharCode(a.which))},_formatCard:function(){var a=this.$element.val(),b=this._getCardType(a);if(b){var c=a.match(b.format);c&&this.$element.val(c.join(" "))}else this.$element.val(a)},_identifyType:function(){var a=this._getCardType(this.$element.val());a?(this.$element.removeClass(this.currentClass).addClass(a.type),this.currentClass=a.type):this.$element.removeClass(this.currentClass)},_getCardType:function(a){for(var b=0,c=e.length;c>b;b++){var d=e[b];if(d.pattern.test(a))return d}return!1}}),a});