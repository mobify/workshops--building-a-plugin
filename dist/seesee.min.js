/*! seesee 0.0.1 (https://github.com/mobify/seesee.git) */
!function(a){if("function"==typeof define&&define.amd)define(["$","plugin"],a);else{var b=window.Zepto||window.jQuery;a(b,window.Plugin)}}(function(a,b){function c(a,b){c.__super__.call(this,a,b,c.DEFAULTS)}var d={SEESEE:"seesee"};return c.VERSION="0.0.1",c.DEFAULTS={},c.classes={INPUT:"seesee__input"},c.CARDS=[{type:"visa",pattern:/^4/,format:/(\d{1,4})/g},{type:"mastercard",pattern:/^5[1-5]]/,format:/(\d{1,4})/g}],b.create("seesee",c,{_init:function(b){if(this.$element=a(b),!this.$element.is("input"))throw new Error("Seesee must be initialized against elements of type input");this.$element.addClass(d.SEESEE).attr("type","tel"),this.currentClass="",this._bindEvents()},destroy:function(){this.$element.removeData(this.name)},_bindEvents:function(){this.$element.on("keyup",this._formatCard.bind(this)).on("keyup",this._checkCard.bind(this))},_formatCard:function(){var a=this._getCardType(this.$element.val());if(a){var b=this.$element.val(),c=b.match(a.format);c&&this.$element.val(c.join(" "))}},_checkCard:function(){var a=this._getCardType(this.$element.val());a?(this.$element.removeClass(this.currentClass).addClass(a.type),this.currentClass=a.type):this.$element.removeClass(this.currentClass)},_getCardType:function(a){for(var b=0,d=c.CARDS.length;d>b;b++){var e=c.CARDS[b];if(e.pattern.test(a))return e}return!1}}),a});